{"componentChunkName":"component---src-templates-blog-post-js","path":"/writings/hide-sensitive-information-on-mobile/","result":{"data":{"site":{"siteMetadata":{"title":"KWGUO Blog"}},"markdownRemark":{"id":"c8f13675-bfbc-5bcf-8c96-acafa3251afb","excerpt":"在 Android 如果我們希望讓使用者不能在輸入帳戶密碼之類的機密訊息的頁面上截圖，我們可以使用下面的方法。 但是在 iOS 我們沒有這種方法，iOS 提供了  事件可以讓我們知道使用者截圖了。\n但我們沒有方法可以阻止使用者截圖，我們只能讓機密資料不會出現在 task switcher 中，也就是讓 app…","html":"<p>在 Android 如果我們希望讓使用者不能在輸入帳戶密碼之類的機密訊息的頁面上截圖，我們可以使用下面的方法。</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// disable screen capture</span>\nactivity<span class=\"token punctuation\">.</span>window<span class=\"token punctuation\">.</span><span class=\"token function\">addFlags</span><span class=\"token punctuation\">(</span>WindowManager<span class=\"token punctuation\">.</span>LayoutParams<span class=\"token punctuation\">.</span>FLAG_SECURE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// enable screen capture</span>\nactivity<span class=\"token punctuation\">.</span>window<span class=\"token punctuation\">.</span><span class=\"token function\">clearFlags</span><span class=\"token punctuation\">(</span>WindowManager<span class=\"token punctuation\">.</span>LayoutParams<span class=\"token punctuation\">.</span>FLAG_SECURE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>但是在 iOS 我們沒有這種方法，iOS 提供了 <code class=\"language-text\">userDidTakeScreenshotNotification</code> 事件可以讓我們知道使用者截圖了。\n但我們沒有方法可以阻止使用者截圖，我們只能讓機密資料不會出現在 task switcher 中，也就是<strong>讓 app 再進入 background 的時候用個畫面來遮住整個 app</strong>，以避免不小心洩露出機密資料。\n我們可以透過 <code class=\"language-text\">applicationWillResignActive</code> &#x26; <code class=\"language-text\">applicationDidBecomeActive</code> 這兩個 life cycle hook 來遮住我們的 app ，下面是一個用 splash screen 來遮住畫面的範例。</p>\n<div class=\"gatsby-highlight\" data-language=\"objective-c\"><pre class=\"language-objective-c\"><code class=\"language-objective-c\">@implementation AppDelegate\n...\n- (void)applicationWillResignActive:(UIApplication *)application {\n  if (ScreenCaptureSecure.hideApp) {\n    [RNSplashScreen showSplash:@&quot;LaunchScreen&quot; inRootView:self.window.rootViewController.view];\n  }\n}\n\n- (void)applicationDidBecomeActive:(UIApplication *)application {\n  [RNSplashScreen hide];\n}\n@end</code></pre></div>\n<h3>Refs</h3>\n<ul>\n<li><a href=\"https://developer.apple.com/documentation/uikit/uiapplication/1622966-userdidtakescreenshotnotificatio\">https://developer.apple.com/documentation/uikit/uiapplication/1622966-userdidtakescreenshotnotificatio</a></li>\n<li><a href=\"https://developer.apple.com/library/archive/qa/qa1838/_index.html\">https://developer.apple.com/library/archive/qa/qa1838/_index.html</a></li>\n</ul>","frontmatter":{"title":"Hide sensitive information on mobile","tags":["writing","ios","android"],"date":"December 16, 2020","description":"How to hide sensitive information on mobile"}}},"pageContext":{"slug":"/hide-sensitive-information-on-mobile/","previous":{"fields":{"slug":"/apollo-client-query-default-options-not-works/"},"frontmatter":{"title":"apollo-client query default options not works?","tags":["writing","graphql","apollo","react"]}},"next":{"fields":{"slug":"/ios-in-app-browser-cookie/"},"frontmatter":{"title":"iOS in app browser cookie","tags":["writing","cookie","ios","webview"]}}}},"staticQueryHashes":["4111554205","63159454"]}