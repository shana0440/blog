{"version":3,"file":"component---src-pages-writings-js-447c403cc0ea18e7496a.js","mappings":"yHAiCA,IA7Ba,SAAC,GAAkB,IAAhBA,EAAe,EAAfA,KAAMC,EAAS,EAATA,GACdC,EAAQF,EAAKG,YAAYD,OAASF,EAAKI,OAAOC,KACpD,OACE,gBAAC,EAAAC,KAAD,CACEL,GAAIA,EACJM,UAAU,oDACVC,gBAAgB,eAEhB,2BAASC,IAAKT,EAAKI,OAAOC,MACxB,8BACE,0BAAKH,GACL,6BAAQF,EAAKG,YAAYO,QAKlC,C,+ECID,MArBA,SAA+BC,GAC7B,IAAMC,GAAWC,EAAAA,EAAAA,eACXC,GAAMC,EAAAA,EAAAA,QAAO,MASnB,OAPAC,EAAAA,EAAAA,kBAAgB,WACd,GAAIF,EAAIG,QAAS,CACf,IAAMC,EAAWC,OAAOC,eAAeC,QAAQV,GAC/CG,EAAIG,QAAQK,SAAS,EAAGJ,GAAY,EACrC,CACF,GAAE,CAACN,EAASH,MAEN,CACLK,IAAAA,EACAS,SAFK,WAGCT,EAAIG,SACNE,OAAOC,eAAeI,QAAQb,EAAYG,EAAIG,QAAQQ,UAEzD,EAEJ,E,UClBc,SAASC,EAAT,GAAyD,IAArCC,EAAoC,EAApCA,MAAOC,EAA6B,EAA7BA,UAA6B,IAAlBrB,UAAAA,OAAkB,MAAN,GAAM,EAC/DsB,EAAoBC,EAAsB,aAEhD,OACE,oCACEvB,UAAS,iFAAmFA,GACxFsB,GAEHF,EAAMI,KAAI,WAAWC,GAAX,IAAGhC,EAAH,EAAGA,KAAH,OACT,sBAAIS,IAAKuB,GACP,gBAAC,IAAD,CAAM/B,GAAE,GAAK2B,EAAY5B,EAAKI,OAAOC,KAAQL,KAAMA,IAF5C,IAOhB,CChBc,SAASiC,EAAT,GAKX,IAJFN,EAIC,EAJDA,MACAO,EAGC,EAHDA,SACAN,EAEC,EAFDA,UAEC,IADDrB,UAAAA,OACC,MADW,GACX,EACD,OACE,uBAAKA,UAAS,eAAiBA,GAC7B,gBAACmB,EAAD,CACEnB,UAAc2B,EAAW,kBAAoB,sBAC7CP,MAAOA,EACPC,UAAWA,IAEb,wBAAMrB,UAAS,WAAY2B,EAAW,GAAK,oBACxCA,GAIR,C,mFCuBD,UArCsB,SAAC,GAAkB,IAAhBA,EAAe,EAAfA,SAyBjBP,GAxBOQ,EAAAA,EAAAA,gBAAe,cAwBTC,kBAAkBC,MAErC,OACE,gBAAC,IAAD,KACE,gBAAC,IAAD,CAAKnC,MAAM,gBACX,gBAAC,IAAD,CAAYyB,MAAOA,EAAOC,UAAU,aACjCM,GAIR,C","sources":["webpack://blog/./src/components/post.js","webpack://blog/./src/hooks/useKeepScrollPosition.js","webpack://blog/./src/components/post_list.js","webpack://blog/./src/components/post_layout.js","webpack://blog/./src/pages/writings.js"],"sourcesContent":["import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { Link } from \"gatsby\"\n\nconst Post = ({ node, to }) => {\n  const title = node.frontmatter.title || node.fields.slug\n  return (\n    <Link\n      to={to}\n      className=\"rounded-md py-1 px-2 mb-1 hover:bg-gray-300 block\"\n      activeClassName=\"bg-gray-300\"\n    >\n      <article key={node.fields.slug}>\n        <header>\n          <h3>{title}</h3>\n          <small>{node.frontmatter.date}</small>\n        </header>\n      </article>\n    </Link>\n  )\n}\n\nPost.propTypes = {\n  frontmatter: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    date: PropTypes.string.isRequired,\n    description: PropTypes.string.isRequired,\n  }),\n  fields: PropTypes.shape({\n    slug: PropTypes.string.isRequired,\n  }),\n}\n\nexport default Post\n","import { useLayoutEffect, useRef } from \"react\"\nimport { useLocation } from \"@gatsbyjs/reach-router\"\n\nfunction useKeepScrollPosition(identifier) {\n  const location = useLocation()\n  const ref = useRef(null)\n\n  useLayoutEffect(() => {\n    if (ref.current) {\n      const position = window.sessionStorage.getItem(identifier)\n      ref.current.scrollTo(0, position || 0)\n    }\n  }, [location.key])\n\n  return {\n    ref,\n    onScroll() {\n      if (ref.current) {\n        window.sessionStorage.setItem(identifier, ref.current.scrollTop)\n      }\n    },\n  }\n}\n\nexport default useKeepScrollPosition\n","import React from \"react\"\nimport useKeepScrollPosition from \"../hooks/useKeepScrollPosition\"\nimport Post from \"./post\"\n\nexport default function PostList({ posts, urlPrefix, className = \"\" }) {\n  const scrollRestoration = useKeepScrollPosition(\"post-list\")\n\n  return (\n    <ul\n      className={`h-full overflow-auto w-96 px-2 py-4 border-r lg:border-r-gray-300 xl:h-screen ${className}`}\n      {...scrollRestoration}\n    >\n      {posts.map(({ node }, i) => (\n        <li key={i}>\n          <Post to={`${urlPrefix}${node.fields.slug}`} node={node} />\n        </li>\n      ))}\n    </ul>\n  )\n}\n","import React from \"react\"\nimport PostList from \"./post_list\"\n\nexport default function PostLayout({\n  posts,\n  children,\n  urlPrefix,\n  className = \"\",\n}) {\n  return (\n    <div className={`h-full flex ${className}`}>\n      <PostList\n        className={`${children ? \"hidden lg:block\" : \"flex-1 lg:flex-none\"}`}\n        posts={posts}\n        urlPrefix={urlPrefix}\n      />\n      <main className={`flex-1 ${children ? \"\" : \"hidden lg:block\"}`}>\n        {children}\n      </main>\n    </div>\n  )\n}\n","import React from \"react\"\nimport { graphql, useStaticQuery } from \"gatsby\"\n\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport PostLayout from \"../components/post_layout\"\n\nconst WritingsIndex = ({ children }) => {\n  const data = useStaticQuery(graphql`\n    query {\n      allMarkdownRemark(\n        sort: { fields: [frontmatter___date], order: DESC }\n        filter: {\n          frontmatter: { private: { ne: true }, tags: { in: [\"writing\"] } }\n        }\n      ) {\n        edges {\n          node {\n            excerpt\n            fields {\n              slug\n            }\n            frontmatter {\n              date(formatString: \"MMMM DD, YYYY\")\n              title\n              description\n            }\n          }\n        }\n      }\n    }\n  `)\n  const posts = data.allMarkdownRemark.edges\n\n  return (\n    <Layout>\n      <SEO title=\"My writings\" />\n      <PostLayout posts={posts} urlPrefix=\"/writings\">\n        {children}\n      </PostLayout>\n    </Layout>\n  )\n}\n\nexport default WritingsIndex\n"],"names":["node","to","title","frontmatter","fields","slug","Link","className","activeClassName","key","date","identifier","location","useLocation","ref","useRef","useLayoutEffect","current","position","window","sessionStorage","getItem","scrollTo","onScroll","setItem","scrollTop","PostList","posts","urlPrefix","scrollRestoration","useKeepScrollPosition","map","i","PostLayout","children","useStaticQuery","allMarkdownRemark","edges"],"sourceRoot":""}